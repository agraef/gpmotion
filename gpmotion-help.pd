#N canvas 740 255 682 466 12;
#X obj 143 70 tgl 15 0 empty empty print 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#N canvas 757 376 418 358 oscreceive 0;
#X obj 47 135 oscparse;
#X obj 47 169 list trim;
#X obj 187 208 spigot;
#X obj 47 279 outlet;
#X obj 225 169 inlet;
#X msg 122 63 listen 8880;
#X msg 47 62 listen 0;
#X obj 47 32 sel 0;
#X obj 47 103 netreceive -u -b;
#X obj 47 -1 inlet;
#X obj 47 243 route devices;
#X obj 47 208 route joyosc;
#X obj 187 243 print osc;
#X obj 187 279 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 11 0;
#X connect 2 0 12 0;
#X connect 4 0 2 1;
#X connect 5 0 8 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 0 0;
#X connect 9 0 7 0;
#X connect 10 0 3 0;
#X connect 11 0 10 0;
#X connect 11 1 13 0;
#X coords 0 358 1 357 140 40 0;
#X restore 20 100 pd oscreceive 8880;
#X obj 20 70 tgl 15 0 empty empty poll 17 7 0 10 #ff8585 #000000 #000000
0 1;
#X floatatom 108 67 0 0 9 0 gc - -;
#N canvas 746 383 472 300 controller 0;
#X obj 20 70 route gc0;
#X msg 110 70 symbol gc\$1;
#X obj 20 20 inlet;
#X obj 110 20 inlet;
#X obj 20 220 outlet;
#X obj 77 220 outlet;
#X obj 134 220 outlet;
#X obj 191 220 outlet;
#X obj 20 99 route button axis touchpad sensor;
#X connect 0 0 8 0;
#X connect 1 0 0 1;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 8 0 4 0;
#X connect 8 1 5 0;
#X connect 8 2 6 0;
#X connect 8 3 7 0;
#X restore 20 140 pd controller;
#X text 20 20 joyosc helpers: receive and parse joyosc messages, f
26;
#X obj 20 169 print button;
#X obj 49 199 print axis;
#X obj 78 229 print touchpad;
#X text 230 20 gpmotion: process motion data \, retrieve gravity and
rotation (local/world/player space) data, f 47;
#X obj 230 100 spigot;
#X obj 269 70 tgl 15 0 empty empty process 17 7 0 10 #ffff00 #000000
#000000 0 1;
#X obj 230 209 gpmotion;
#X obj 420 70 tgl 15 0 empty empty retrieve 17 7 0 10 #00ff00 #000000
#000000 0 1;
#X obj 420 100 metro 100;
#X obj 230 238 route gravity local world player;
#X symbolatom 300 100 10 0 0 0 - space -, f 10;
#X obj 20 340 hsl 64 15 -1 1 0 0 empty gravx empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 20 360 hsl 64 15 -1 1 0 0 empty gravy empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 20 380 hsl 64 15 -1 1 0 0 empty gravz empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X text 20 315 gravity;
#X text 110 357 y - down-up;
#X text 110 337 x - left-right;
#X text 110 377 z - front-back;
#X obj 240 340 hsl 64 15 -1 1 0 0 empty locx empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 240 360 hsl 64 15 -1 1 0 0 empty locy empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 240 380 hsl 64 15 -1 1 0 0 empty locz empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X text 240 315 local space;
#X text 330 337 pitch - down-up;
#X text 330 357 yaw - turn l/r;
#X text 330 377 roll - lean l/r;
#X obj 470 340 hsl 64 15 -1 1 0 0 empty wpx empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 470 360 hsl 64 15 -1 1 0 0 empty wpy empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X text 560 337 pitch - down-up;
#X text 560 357 yaw/roll - l/r;
#X text 470 315 world/player space;
#N canvas 739 383 450 300 gravity 0;
#X obj 20 50 unpack f f f;
#X obj 20 139 s gravx;
#X obj 100 139 s gravy;
#X obj 180 139 s gravz;
#X obj 20 20 inlet;
#X text 20 190 gravity vector = orientation of the device;
#X obj 20 109 line;
#X obj 100 109 line;
#X obj 180 109 line;
#X obj 20 80 pack f 100;
#X obj 100 80 pack f 100;
#X obj 180 80 pack f 100;
#X text 270 80 smooth transitions;
#X connect 0 0 9 0;
#X connect 0 1 10 0;
#X connect 0 2 11 0;
#X connect 4 0 0 0;
#X connect 6 0 1 0;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 6 0;
#X connect 10 0 7 0;
#X connect 11 0 8 0;
#X restore 230 270 pd gravity;
#N canvas 741 383 450 312 local 0;
#X obj 20 50 unpack f f f;
#X obj 20 20 inlet;
#X obj 20 159 / 45;
#X obj 60 159 / 45;
#X obj 100 159 / 45;
#X obj 20 250 s locx;
#X obj 100 250 s locy;
#X obj 180 250 s locz;
#X obj 170 70 hradio 15 0 1 6 empty empty empty 0 -8 0 10 #fcfcfc #000000
#000000 3;
#X obj 170 94 expr 360 / pow(2 \, $f1);
#X text 20 270 pitch;
#X text 100 270 yaw;
#X text 180 270 roll;
#X text 240 250 local space rotation;
#X floatatom 170 123 5 0 0 0 - - -, f 5;
#X obj 20 219 line;
#X obj 100 219 line;
#X obj 180 219 line;
#X obj 20 190 pack f 100;
#X obj 100 190 pack f 100;
#X obj 180 190 pack f 100;
#X text 270 190 smooth transitions;
#X text 170 20 apply sensitivity and normalize \; e.g. \, sensitivity
factor 8: 45° → 1;
#X connect 0 0 2 0;
#X connect 0 1 3 0;
#X connect 0 2 4 0;
#X connect 1 0 0 0;
#X connect 2 0 18 0;
#X connect 3 0 19 0;
#X connect 4 0 20 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 14 0 4 1;
#X connect 14 0 3 1;
#X connect 14 0 2 1;
#X connect 15 0 5 0;
#X connect 16 0 6 0;
#X connect 17 0 7 0;
#X connect 18 0 15 0;
#X connect 19 0 16 0;
#X connect 20 0 17 0;
#X restore 310 270 pd local;
#N canvas 740 383 450 310 world_player 0;
#X obj 20 20 inlet;
#X obj 20 159 / 45;
#X obj 87 159 / 45;
#X obj 170 70 hradio 15 0 1 6 empty empty empty 0 -8 0 10 #fcfcfc #000000
#000000 3;
#X obj 170 94 expr 360 / pow(2 \, $f1);
#X text 20 270 pitch;
#X floatatom 170 123 5 0 0 0 - - -, f 5;
#X obj 20 50 unpack f f;
#X obj 20 250 s wpx;
#X obj 100 250 s wpy;
#X text 200 250 world/player space rotation;
#X text 100 270 yaw/roll;
#X obj 20 219 line;
#X obj 100 219 line;
#X obj 20 190 pack f 100;
#X obj 100 190 pack f 100;
#X text 200 190 smooth transitions;
#X text 170 20 apply sensitivity and normalize \; e.g. \, sensitivity
factor 8: 45° → 1;
#X connect 0 0 7 0;
#X connect 1 0 14 0;
#X connect 2 0 15 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 6 0 2 1;
#X connect 6 0 1 1;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 12 0 8 0;
#X connect 13 0 9 0;
#X connect 14 0 12 0;
#X connect 15 0 13 0;
#X restore 380 270 pd world_player;
#X text 520 70 select gravity/space;
#X msg 560 130 gravity;
#X msg 560 150 local;
#X msg 560 170 world;
#X msg 560 190 player;
#X obj 420 129 s space;
#X obj 560 100 loadbang;
#X text 20 410 processed data calculated by the gpmotion object:;
#X text 390 410 gravity: x \, y \, z in g [9.81 m/s^2];
#X text 20 430 local: pitch \, yaw \, roll in deg or deg/s;
#X text 310 430 world \, player: pitch \, roll/yaw in deg or deg/s
;
#X obj 560 219 symbol;
#X msg 560 243 set \$1;
#X msg 300 128 \$1;
#X obj 300 157 route gravity;
#X obj 180 146 bng 15 250 50 0 empty reset empty 17 7 0 10 #fcfcfc
#000000 #000000;
#N canvas 616 283 498 267 buttons 0;
#X obj 20 109 sel 1;
#X obj 20 20 inlet;
#X obj 20 80 route a;
#X obj 20 138 s reset;
#X text 130 80 sample button binding: A = reset;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X restore 20 260 pd buttons;
#X msg 180 170 reset;
#N canvas 367 238 537 591 messages 0;
#X msg 20 40 accel 0 0 0;
#X msg 20 70 gyro 0 0 0;
#X msg 20 150 start;
#X msg 80 150 stop;
#X msg 130 150 clear;
#X text 190 150 start \, stop \, and clear controller calibration;
#X text 190 50 input accelerator and gyro data from joyosc, f 45;
#X msg 20 190 reset;
#X text 190 190 reset all rotation data to 0 \, 0 \, 0 (recenter);
#X msg 20 230 set local 0 0 0;
#X msg 20 260 set world 0 0;
#X msg 20 290 set player 0 0;
#X text 190 250 set local \, world \, or player space rotation data
to the given angles in degrees, f 46;
#X msg 20 110 pause;
#X text 190 110 pause processing of input data;
#X msg 20 340 mode \$1;
#X obj 100 325 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X text 190 360 mode 1: produce momentary rotation data in degrees
per sec, f 46;
#X text 190 320 mode 0 (default): produce accumulated rotation data
in degrees, f 46;
#X msg 20 420 yawrf \$1;
#X obj 100 405 hsl 32 15 1.15 2 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X text 190 420 yaw relax factor (player space only): buffer zone for
combined yaw + roll, f 46;
#X obj 20 470 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X text 190 470 retrieve gravity vector;
#X msg 20 500 local;
#X msg 70 500 world;
#X msg 120 500 player;
#X text 190 500 retrieve local \, world \, or player rotation data
;
#X obj 20 550 outlet;
#X text 20 10 overview of all gpmotion messages;
#X connect 0 0 28 0;
#X connect 1 0 28 0;
#X connect 2 0 28 0;
#X connect 3 0 28 0;
#X connect 4 0 28 0;
#X connect 7 0 28 0;
#X connect 9 0 28 0;
#X connect 10 0 28 0;
#X connect 11 0 28 0;
#X connect 13 0 28 0;
#X connect 15 0 28 0;
#X connect 16 0 15 0;
#X connect 19 0 28 0;
#X connect 20 0 19 0;
#X connect 22 0 28 0;
#X connect 24 0 28 0;
#X connect 25 0 28 0;
#X connect 26 0 28 0;
#X restore 420 180 pd messages;
#X text 420 200 ↳ click to open;
#X text 20 280 ↳ click to open;
#N canvas 1061 390 494 344 META 0;
#X text 12 5 NAME gpmotion;
#X text 12 30 KEYWORDS control joyosc gamepad motion;
#X text 12 50 LICENSE GPL-3+;
#X text 12 70 DESCRIPTION process motion data \, retrieve gravity and
rotation (local/world/player space) data;
#X text 12 106 LIBRARY gpmotion;
#X text 12 126 AUTHOR Albert Gräf;
#X text 12 146 WEBSITE https://github.com/agraef/gpmotion;
#X text 12 166 RELEASE_DATE 2024;
#X restore 600 20 pd META;
#X connect 0 0 1 1;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 4 1;
#X connect 4 0 6 0;
#X connect 4 0 55 0;
#X connect 4 1 7 0;
#X connect 4 2 8 0;
#X connect 4 3 10 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 12 0 15 0;
#X connect 13 0 14 0;
#X connect 14 0 44 0;
#X connect 15 0 36 0;
#X connect 15 1 37 0;
#X connect 15 2 38 0;
#X connect 15 3 38 0;
#X connect 16 0 52 0;
#X connect 40 0 50 0;
#X connect 41 0 50 0;
#X connect 42 0 50 0;
#X connect 43 0 50 0;
#X connect 45 0 40 0;
#X connect 50 0 51 0;
#X connect 51 0 44 0;
#X connect 52 0 53 0;
#X connect 53 0 12 0;
#X connect 53 1 12 0;
#X connect 54 0 56 0;
#X connect 56 0 12 0;
#X connect 57 0 12 0;
