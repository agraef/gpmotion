#N canvas 519 263 713 401 12;
#X obj 390 350 cnv 15 90 40 empty empty empty 20 12 0 14 #e0e0e0 #404040
0;
#X obj 143 20 tgl 15 0 empty empty print 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#N canvas 757 376 418 358 oscreceive 0;
#X obj 47 135 oscparse;
#X obj 47 169 list trim;
#X obj 187 208 spigot;
#X obj 47 279 outlet;
#X obj 225 169 inlet;
#X msg 122 63 listen 8880;
#X msg 47 62 listen 0;
#X obj 47 32 sel 0;
#X obj 47 103 netreceive -u -b;
#X obj 47 -1 inlet;
#X obj 47 243 route devices;
#X obj 47 208 route joyosc;
#X obj 187 243 print osc;
#X obj 187 279 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 11 0;
#X connect 2 0 12 0;
#X connect 4 0 2 1;
#X connect 5 0 8 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 0 0;
#X connect 9 0 7 0;
#X connect 10 0 3 0;
#X connect 11 0 10 0;
#X connect 11 1 13 0;
#X coords 0 358 1 357 140 40 0;
#X restore 20 50 pd oscreceive 8880;
#X obj 20 20 tgl 15 0 empty empty poll 17 7 0 10 #fcfcfc #000000 #000000
1 1;
#X floatatom 108 17 0 0 9 0 gc - -;
#X listbox 20 167 18 0 0 0 - - -, f 18;
#X listbox 49 197 18 0 0 0 - - -, f 18;
#X listbox 104 260 40 0 0 0 - data -, f 40;
#X obj 138 110 tgl 15 0 empty motion-s empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X floatatom 200 170 0 0 0 3 index - -;
#X floatatom 257 170 0 0 0 3 finger - -;
#X listbox 310 171 20 0 0 3 x-y-pressure - -, f 20;
#N canvas 684 485 450 300 touchpad 0;
#X obj 20 129 unpack f f f f f;
#X obj 20 99 t a b;
#X msg 170 130 down;
#X obj 107 99 t a b;
#X msg 220 130 up;
#X obj 74 160 pack f f f;
#X obj 20 20 inlet;
#X obj 20 240 outlet;
#X obj 76 240 outlet;
#X obj 132 240 outlet;
#X obj 209 20 inlet;
#X obj 170 160 spigot;
#X obj 170 189 print touchpad;
#X obj 20 70 route down up xy;
#X connect 0 0 7 0;
#X connect 0 1 8 0;
#X connect 0 2 5 0;
#X connect 0 3 5 1;
#X connect 0 4 5 2;
#X connect 1 0 0 0;
#X connect 1 1 2 0;
#X connect 2 0 11 0;
#X connect 3 0 0 0;
#X connect 3 1 4 0;
#X connect 4 0 11 0;
#X connect 5 0 9 0;
#X connect 6 0 13 0;
#X connect 10 0 11 1;
#X connect 11 0 12 0;
#X connect 13 0 1 0;
#X connect 13 1 3 0;
#X connect 13 2 0 0;
#X restore 220 140 pd touchpad;
#X obj 294 110 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#N canvas 479 255 450 417 motion 0;
#X obj 20 70 spigot;
#X obj 20 20 inlet;
#X obj 80 20 inlet;
#X obj 20 240 gpmotion;
#X obj 20 99 t b a;
#X obj 20 130 symbol gravity;
#X obj 20 189 route gravity;
#X msg 20 159 \$1;
#X obj 115 79 symbol;
#X obj 20 320 route gravity local world player;
#N canvas 1113 205 542 300 gravity 0;
#X msg 43 91 symbol gravity;
#X obj 20 20 inlet;
#X obj 20 60 t a b a;
#X obj 170 110 list store;
#X obj 170 50 metro 100;
#X obj 170 139 unpack f f f;
#X obj 170 197 line;
#X obj 230 197 line;
#X obj 290 197 line;
#X obj 100 20 inlet;
#X obj 170 226 s gravx;
#X obj 230 226 s gravy;
#X obj 290 226 s gravz;
#X obj 43 120 s space-s;
#X obj 230 20 r period;
#X obj 300 20 r space;
#X obj 300 49 symbol;
#X obj 300 79 expr strcmp($s1 \, "gravity") == 0;
#X obj 170 80 spigot 1;
#X obj 20 179 s data;
#X obj 20 150 spigot 1;
#X obj 100 150 r freeze;
#X obj 100 179 == 0;
#X obj 170 168 pack f 100;
#X obj 250 168 pack f 100;
#X obj 330 168 pack f 100;
#X obj 300 120 r period;
#X connect 0 0 13 0;
#X connect 1 0 2 0;
#X connect 2 0 20 0;
#X connect 2 1 0 0;
#X connect 2 2 3 1;
#X connect 3 0 5 0;
#X connect 4 0 18 0;
#X connect 5 0 23 0;
#X connect 5 1 24 0;
#X connect 5 2 25 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 4 0;
#X connect 14 0 4 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 1;
#X connect 18 0 3 0;
#X connect 20 0 19 0;
#X connect 21 0 22 0;
#X connect 22 0 20 1;
#X connect 23 0 6 0;
#X connect 24 0 7 0;
#X connect 25 0 8 0;
#X connect 26 0 23 1;
#X connect 26 0 25 1;
#X connect 26 0 24 1;
#X restore 20 350 pd gravity;
#X obj 80 280 t f;
#N canvas 1107 205 535 300 local 0;
#X obj 20 20 inlet;
#X obj 20 60 t a b a;
#X obj 170 110 list store;
#X obj 170 50 metro 100;
#X obj 170 139 unpack f f f;
#X obj 170 227 line;
#X obj 230 227 line;
#X obj 290 227 line;
#X obj 100 20 inlet;
#X msg 43 91 symbol local;
#X obj 290 256 s locz;
#X obj 230 256 s locy;
#X obj 170 256 s locx;
#X obj 170 168 / 180;
#X obj 230 168 / 180;
#X obj 290 168 / 180;
#X obj 43 120 s space-s;
#X obj 230 20 r period;
#X obj 280 139 r angle;
#X obj 300 21 r space;
#X obj 300 50 symbol;
#X obj 300 80 expr strcmp($s1 \, "local") == 0;
#X obj 170 79 spigot;
#X obj 20 180 s data;
#X obj 20 151 spigot 1;
#X obj 100 151 r freeze;
#X obj 100 180 == 0;
#X obj 170 197 pack f 100;
#X obj 250 197 pack f 100;
#X obj 330 197 pack f 100;
#X obj 350 160 r period;
#X connect 0 0 1 0;
#X connect 1 0 24 0;
#X connect 1 1 9 0;
#X connect 1 2 2 1;
#X connect 2 0 4 0;
#X connect 3 0 22 0;
#X connect 4 0 13 0;
#X connect 4 1 14 0;
#X connect 4 2 15 0;
#X connect 5 0 12 0;
#X connect 6 0 11 0;
#X connect 7 0 10 0;
#X connect 8 0 3 0;
#X connect 9 0 16 0;
#X connect 13 0 27 0;
#X connect 14 0 28 0;
#X connect 15 0 29 0;
#X connect 17 0 3 1;
#X connect 18 0 14 1;
#X connect 18 0 15 1;
#X connect 18 0 13 1;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 22 1;
#X connect 22 0 2 0;
#X connect 24 0 23 0;
#X connect 25 0 26 0;
#X connect 26 0 24 1;
#X connect 27 0 5 0;
#X connect 28 0 6 0;
#X connect 29 0 7 0;
#X connect 30 0 27 1;
#X connect 30 0 29 1;
#X connect 30 0 28 1;
#X restore 75 380 pd local;
#N canvas 1106 205 537 300 world 0;
#X obj 20 20 inlet;
#X obj 20 60 t a b a;
#X obj 170 110 list store;
#X obj 170 50 metro 100;
#X obj 170 227 line;
#X obj 230 227 line;
#X obj 100 20 inlet;
#X obj 170 168 / 180;
#X obj 230 168 / 180;
#X msg 43 91 symbol world;
#X obj 170 139 unpack f f;
#X obj 170 256 s wrldx;
#X obj 230 256 s wrldy;
#X obj 43 120 s space-s;
#X obj 230 20 r period;
#X obj 270 139 r angle;
#X obj 170 79 spigot;
#X obj 300 21 r space;
#X obj 300 50 symbol;
#X obj 300 80 expr strcmp($s1 \, "world") == 0;
#X obj 20 180 s data;
#X obj 20 151 spigot 1;
#X obj 100 151 r freeze;
#X obj 100 180 == 0;
#X obj 170 197 pack f 100;
#X obj 250 197 pack f 100;
#X obj 340 140 r period;
#X connect 0 0 1 0;
#X connect 1 0 21 0;
#X connect 1 1 9 0;
#X connect 1 2 2 1;
#X connect 2 0 10 0;
#X connect 3 0 16 0;
#X connect 4 0 11 0;
#X connect 5 0 12 0;
#X connect 6 0 3 0;
#X connect 7 0 24 0;
#X connect 8 0 25 0;
#X connect 9 0 13 0;
#X connect 10 0 7 0;
#X connect 10 1 8 0;
#X connect 14 0 3 1;
#X connect 15 0 8 1;
#X connect 15 0 7 1;
#X connect 16 0 2 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 16 1;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 21 1;
#X connect 24 0 4 0;
#X connect 25 0 5 0;
#X connect 26 0 24 1;
#X connect 26 0 25 1;
#X restore 130 350 pd world;
#N canvas 1106 205 536 300 player 0;
#X obj 20 20 inlet;
#X obj 20 60 t a b a;
#X obj 170 110 list store;
#X obj 170 50 metro 100;
#X obj 170 227 line;
#X obj 230 227 line;
#X obj 100 20 inlet;
#X obj 170 168 / 180;
#X obj 230 168 / 180;
#X obj 170 139 unpack f f;
#X obj 170 256 s plyrx;
#X obj 230 256 s plyry;
#X msg 43 91 symbol player;
#X obj 270 139 r angle;
#X obj 43 120 s space-s;
#X obj 230 20 r period;
#X obj 170 79 spigot;
#X obj 300 21 r space;
#X obj 300 50 symbol;
#X obj 300 80 expr strcmp($s1 \, "player") == 0;
#X obj 20 180 s data;
#X obj 20 151 spigot 1;
#X obj 100 151 r freeze;
#X obj 100 180 == 0;
#X obj 170 197 pack f 100;
#X obj 250 197 pack f 100;
#X obj 340 140 r period;
#X connect 0 0 1 0;
#X connect 1 0 21 0;
#X connect 1 1 12 0;
#X connect 1 2 2 1;
#X connect 2 0 9 0;
#X connect 3 0 16 0;
#X connect 4 0 10 0;
#X connect 5 0 11 0;
#X connect 6 0 3 0;
#X connect 7 0 24 0;
#X connect 8 0 25 0;
#X connect 9 0 7 0;
#X connect 9 1 8 0;
#X connect 12 0 14 0;
#X connect 13 0 7 1;
#X connect 13 0 8 1;
#X connect 15 0 3 1;
#X connect 16 0 2 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 16 1;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 21 1;
#X connect 24 0 4 0;
#X connect 25 0 5 0;
#X connect 26 0 24 1;
#X connect 26 0 25 1;
#X restore 185 380 pd player;
#N canvas 737 383 450 300 calibrate 0;
#X obj 40 80 r calibrate;
#X obj 40 109 sel 1 0;
#X msg 40 138 start;
#X msg 90 138 stop;
#X obj 140 80 r calibrate-clear;
#X msg 140 109 clear;
#X obj 280 80 r reset;
#X msg 280 109 reset;
#X obj 40 167 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 8 0;
#X connect 3 0 8 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X restore 130 190 pd calibrate;
#X msg 240 190 mode \$1;
#X obj 115 50 r space;
#X obj 240 160 r mode;
#X obj 310 160 r yawrf;
#X msg 310 190 yawrf \$1;
#X obj 130 130 == 0;
#X msg 130 159 pause \$1;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 0 1;
#X connect 2 0 11 0;
#X connect 2 0 21 0;
#X connect 3 0 9 0;
#X connect 4 0 5 0;
#X connect 4 1 3 0;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 6 1 3 0;
#X connect 7 0 6 0;
#X connect 8 0 5 1;
#X connect 9 0 10 0;
#X connect 9 1 12 0;
#X connect 9 2 13 0;
#X connect 9 3 14 0;
#X connect 11 0 10 1;
#X connect 11 0 12 1;
#X connect 11 0 13 1;
#X connect 11 0 14 1;
#X connect 15 0 3 0;
#X connect 16 0 3 0;
#X connect 17 0 8 0;
#X connect 18 0 16 0;
#X connect 19 0 20 0;
#X connect 20 0 3 0;
#X connect 21 0 22 0;
#X connect 22 0 3 0;
#X restore 78 137 pd motion;
#X msg 410 20 gravity;
#X msg 410 40 local;
#X msg 410 60 world;
#X msg 410 80 player;
#X symbolatom 20 260 10 0 0 0 - space-s -, f 10;
#N canvas 741 383 472 300 controller 0;
#X obj 20 70 route gc0;
#X msg 110 70 symbol gc\$1;
#X obj 20 128 list;
#X obj 77 128 list;
#X obj 20 99 route button axis sensor touchpad;
#X obj 20 20 inlet;
#X obj 110 20 inlet;
#X obj 20 220 outlet;
#X obj 77 220 outlet;
#X obj 134 220 outlet;
#X obj 191 220 outlet;
#N canvas 611 283 718 480 buttons 0;
#X obj 20 70 route leftstick rightstick leftshoulder rightshoulder
;
#X obj 20 99 sel 1;
#X obj 20 128 s reset-s;
#X obj 112 99 sel 1;
#X obj 112 128 s mode-s;
#X obj 204 99 sel 1;
#X obj 204 128 s calibrate-s;
#X obj 304 99 sel 1;
#X obj 304 128 s calibrate-clear-s;
#X obj 20 20 inlet;
#X obj 500 120 v space_i;
#X obj 20 231 expr space_i = (space_i+1) % 4;
#X floatatom 20 290 5 0 0 0 - - -, f 5;
#X obj 20 200 sel 1;
#X obj 70 200 sel 1;
#X obj 20 261 expr space_i = (if(space_i<=0 \, space_i+4 \, space_i)-1)
% 4;
#X obj 20 318 sel 0 1 2 3;
#X msg 20 347 gravity;
#X msg 20 371 local;
#X msg 20 395 world;
#X msg 20 419 player;
#X obj 20 448 s space;
#X floatatom 140 360 5 0 0 0 - - -, f 5;
#X obj 140 201 sel 1;
#X obj 190 201 sel 1;
#X obj 140 331 expr sens_i = (if(sens_i<=0 \, sens_i+6 \, sens_i)-1)
% 6;
#X obj 140 301 expr sens_i = (sens_i+1) % 6;
#X obj 500 90 v sens_i;
#X obj 140 388 s sensitivity-s;
#X obj 500 30 loadbang;
#X msg 500 59 3;
#X obj 330 200 sel 1;
#X obj 330 229 s motion-s;
#X obj 420 200 sel 1;
#X obj 420 229 s freeze-s;
#X obj 20 160 route dpdown dpup dpright dpleft a x b;
#X obj 250 229 s motion-s;
#X obj 250 200 t b;
#X connect 0 0 1 0;
#X connect 0 1 3 0;
#X connect 0 2 5 0;
#X connect 0 3 7 0;
#X connect 0 4 35 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 9 0 0 0;
#X connect 11 0 12 0;
#X connect 12 0 16 0;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 12 0;
#X connect 16 0 17 0;
#X connect 16 1 18 0;
#X connect 16 2 19 0;
#X connect 16 3 20 0;
#X connect 17 0 21 0;
#X connect 18 0 21 0;
#X connect 19 0 21 0;
#X connect 20 0 21 0;
#X connect 22 0 28 0;
#X connect 23 0 26 0;
#X connect 24 0 25 0;
#X connect 25 0 22 0;
#X connect 26 0 22 0;
#X connect 29 0 30 0;
#X connect 30 0 27 0;
#X connect 31 0 32 0;
#X connect 33 0 34 0;
#X connect 35 0 13 0;
#X connect 35 1 14 0;
#X connect 35 2 23 0;
#X connect 35 3 24 0;
#X connect 35 4 37 0;
#X connect 35 5 31 0;
#X connect 35 6 33 0;
#X connect 37 0 36 0;
#X restore 20 170 pd buttons;
#X connect 0 0 4 0;
#X connect 1 0 0 1;
#X connect 2 0 7 0;
#X connect 3 0 8 0;
#X connect 4 0 2 0;
#X connect 4 0 11 0;
#X connect 4 1 3 0;
#X connect 4 2 9 0;
#X connect 4 3 10 0;
#X connect 5 0 0 0;
#X connect 6 0 1 0;
#X restore 20 90 pd controller;
#X text 20 300 processed data calculated by the gpmotion object:;
#X obj 500 50 hsl 64 15 -1 1 0 0 empty gravx empty -2 -8 0 10 #fcfcfc
#000000 #000000 3200 1;
#X obj 500 70 hsl 64 15 -1 1 0 0 empty gravy empty -2 -8 0 10 #fcfcfc
#000000 #000000 1094 1;
#X obj 500 90 hsl 64 15 -1 1 0 0 empty gravz empty -2 -8 0 10 #fcfcfc
#000000 #000000 5535 1;
#X text 500 25 gravity;
#X obj 500 150 hsl 64 15 -1 1 0 0 empty locx empty -2 -8 0 10 #fcfcfc
#000000 #000000 3493 1;
#X obj 500 170 hsl 64 15 -1 1 0 0 empty locy empty -2 -8 0 10 #fcfcfc
#000000 #000000 2926 1;
#X obj 500 190 hsl 64 15 -1 1 0 0 empty locz empty -2 -8 0 10 #fcfcfc
#000000 #000000 2892 1;
#X text 500 125 local space;
#X obj 500 250 hsl 64 15 -1 1 0 0 empty wrldx empty -2 -8 0 10 #fcfcfc
#000000 #000000 3279 1;
#X obj 500 270 hsl 64 15 -1 1 0 0 empty wrldy empty -2 -8 0 10 #fcfcfc
#000000 #000000 3057 1;
#X text 500 225 world space;
#X obj 500 330 hsl 64 15 -1 1 0 0 empty plyrx empty -2 -8 0 10 #fcfcfc
#000000 #000000 3065 1;
#X obj 500 350 hsl 64 15 -1 1 0 0 empty plyry empty -2 -8 0 10 #fcfcfc
#000000 #000000 2570 1;
#X text 500 305 player space;
#X text 20 320 gravity: x \, y \, z in g [9.81 m/s^2];
#X text 20 340 local: pitch \, yaw \, roll in deg or deg/s;
#X text 20 360 world \, player: pitch \, roll/yaw in deg or deg/s;
#X obj 410 300 bng 15 250 50 0 reset reset-s reset 17 7 0 10 #fcfcfc
#000000 #000000;
#X text 380 320 reset rotation;
#N canvas 1179 304 538 379 config 0;
#X text 20 20 gyro calibration;
#X obj 31 43 tgl 15 0 calibrate calibrate-s enable 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 96 43 bng 15 250 50 0 calibrate-clear calibrate-clear-s clear
17 7 0 10 #fcfcfc #000000 #000000;
#X msg 60 130 10;
#X msg 20 130 25;
#X floatatom 20 188 5 0 0 0 - - period, f 5;
#X obj 230 134 hradio 15 0 1 6 empty sensitivity-s empty 0 -8 0 10
#fcfcfc #000000 #000000 3;
#X floatatom 230 188 5 0 0 0 - - angle, f 5;
#X text 230 110 sensitivity;
#X obj 230 159 expr 360/(pow(2 \, $f1));
#X obj 240 43 tgl 15 1 mode mode-s mode 17 7 0 10 #fcfcfc #000000 #000000
0 1;
#X text 230 60 enable this to show angular velocity [deg/s] instead
of rotation angle [deg], f 39;
#X text 20 110 update rate (Hz);
#X text 20 60 keep the gamepad still while calibrating, f 22;
#X obj 20 159 expr 1000/$f1;
#X msg 140 130 1;
#X msg 100 130 5;
#X text 230 20 gyro mode;
#X text 230 280 yaw relax factor;
#X obj 230 305 hsl 128 15 1.15 2 0 1 yawrf empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 12700 1;
#X text 230 330 buffer zone for combined yaw + roll (player space)
, f 37;
#X text 230 214 scale the actual rotation by a sensitivity factor \,
the calculated value is the max angle that will be shown in the display
, f 42;
#X text 20 214 update rate for gravity and gyro data \, default is
10 Hz \, the calculated value is the metro time in msec, f 27;
#X connect 3 0 14 0;
#X connect 4 0 14 0;
#X connect 6 0 9 0;
#X connect 9 0 7 0;
#X connect 14 0 5 0;
#X connect 15 0 14 0;
#X connect 16 0 14 0;
#X restore 400 360 pd config;
#X obj 410 109 s space;
#X obj 410 260 tgl 15 0 freeze freeze-s freeze 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X text 590 67 y - down-up;
#X text 590 47 x - left-right;
#X text 590 87 z - front-back;
#X text 590 147 pitch - down-up;
#X text 590 247 pitch - down-up;
#X text 590 327 pitch - down-up;
#X text 590 167 yaw - turn l/r;
#X text 590 187 roll - lean l/r;
#X text 590 347 yaw/roll - l/r;
#X text 590 267 yaw/roll - l/r;
#X text 20 230 motion data: gravity [g=9.81 m/s^2] \, rotation [deg
or deg/s];
#X text 200 0 Button assignments:A/X: pause/motion \, B: freezeLS:
reset \, RS: gyro modeLT: calibrate \, RT: clearDP up/down: spacesDP
left/right: sensitivity;
#X connect 1 0 2 1;
#X connect 2 0 20 0;
#X connect 3 0 2 0;
#X connect 4 0 20 1;
#X connect 8 0 14 1;
#X connect 12 0 9 0;
#X connect 12 1 10 0;
#X connect 12 2 11 0;
#X connect 13 0 12 1;
#X connect 15 0 42 0;
#X connect 16 0 42 0;
#X connect 17 0 42 0;
#X connect 18 0 42 0;
#X connect 20 0 5 0;
#X connect 20 1 6 0;
#X connect 20 2 14 0;
#X connect 20 3 12 0;
